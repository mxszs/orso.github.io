<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>or_so</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-12-19T09:47:46.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>or_so</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>or_so</title>
    <link href="http://yoursite.com/2018/12/18/or-so/"/>
    <id>http://yoursite.com/2018/12/18/or-so/</id>
    <published>2018-12-18T06:37:43.000Z</published>
    <updated>2018-12-19T09:47:46.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br></pre></td><td class="code"><pre><span class="line">import G6 from &apos;@antv/g6&apos;;</span><br><span class="line">// 详细文档见 ： https://antv.alipay.com/g6/doc/index.html</span><br><span class="line">import &apos;@antv/g6/build/plugins&apos;;</span><br><span class="line">// 详细文档见 ： https://antv.alipay.com/g6/doc/index.html</span><br><span class="line">const data = &#123;</span><br><span class="line">  nodes: [</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;begin&apos;,</span><br><span class="line">      label: &apos;开始&apos;,</span><br><span class="line">      shape: &apos;beginimg&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;node2&apos;,</span><br><span class="line">      name: &apos;任务1&apos;,</span><br><span class="line">      app: &apos;task1&apos;,</span><br><span class="line">      execuStatus: &apos;stop&apos;,</span><br><span class="line">      execuState: &apos;start&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;self&apos;,</span><br><span class="line">      lable: &apos;并行&apos;,</span><br><span class="line">      shape: &apos;selfNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;chengNode1&apos;,</span><br><span class="line">      name: &apos;孩纸1&apos;,</span><br><span class="line">      app: &apos;tasks1&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;chengNode2&apos;,</span><br><span class="line">      name: &apos;孩子2&apos;,</span><br><span class="line">      app: &apos;tasks2&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;selfchild1&apos;,</span><br><span class="line">      lable: &apos;并行1&apos;,</span><br><span class="line">      shape: &apos;selfNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;selfchildNode1&apos;,</span><br><span class="line">      name: &apos;孙子1&apos;,</span><br><span class="line">      app: &apos;tasks1&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;selfchildNode2&apos;,</span><br><span class="line">      name: &apos;孙子2&apos;,</span><br><span class="line">      app: &apos;tasks1&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;selfchild2&apos;,</span><br><span class="line">      lable: &apos;并行2&apos;,</span><br><span class="line">      shape: &apos;selfNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;chengNode3&apos;,</span><br><span class="line">      name: &apos;孩子3&apos;,</span><br><span class="line">      app: &apos;tasks3&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;chengNode4&apos;,</span><br><span class="line">      name: &apos;孩子4&apos;,</span><br><span class="line">      app: &apos;tasks4&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;chengNode5&apos;,</span><br><span class="line">      name: &apos;孩子5&apos;,</span><br><span class="line">      app: &apos;tasks5&apos;,</span><br><span class="line">      shape: &apos;customNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;selftwo&apos;,</span><br><span class="line">      lable: &apos;并行&apos;,</span><br><span class="line">      shape: &apos;selfNode&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;end&apos;,</span><br><span class="line">      label: &apos;结束&apos;,</span><br><span class="line">      shape: &apos;endimg&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  edges: [</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge1&apos;,</span><br><span class="line">      shape: &apos;edge1&apos;,</span><br><span class="line">      target: &apos;node2&apos;,</span><br><span class="line">      source: &apos;begin&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge2&apos;,</span><br><span class="line">      target: &apos;self&apos;,</span><br><span class="line">      source: &apos;node2&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge3&apos;,</span><br><span class="line">      target: &apos;end&apos;,</span><br><span class="line">      source: &apos;selftwo&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge5&apos;,</span><br><span class="line">      target: &apos;chengNode1&apos;,</span><br><span class="line">      source: &apos;self&apos;,</span><br><span class="line">      shape: &apos;selfedge1&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge6&apos;,</span><br><span class="line">      target: &apos;chengNode2&apos;,</span><br><span class="line">      source: &apos;self&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge7&apos;,</span><br><span class="line">      target: &apos;chengNode3&apos;,</span><br><span class="line">      source: &apos;self&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge10&apos;,</span><br><span class="line">      target: &apos;selftwo&apos;,</span><br><span class="line">      source: &apos;chengNode3&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge11&apos;,</span><br><span class="line">      target: &apos;selftwo&apos;,</span><br><span class="line">      source: &apos;chengNode4&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge12&apos;,</span><br><span class="line">      target: &apos;chengNode4&apos;,</span><br><span class="line">      source: &apos;self&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge13&apos;,</span><br><span class="line">      target: &apos;chengNode5&apos;,</span><br><span class="line">      source: &apos;chengNode1&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;edge14&apos;,</span><br><span class="line">      target: &apos;selftwo&apos;,</span><br><span class="line">      source: &apos;chengNode5&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;childson1&apos;,</span><br><span class="line">      target: &apos;selfchild1&apos;,</span><br><span class="line">      source: &apos;chengNode2&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;childson2&apos;,</span><br><span class="line">      target: &apos;selfchildNode1&apos;,</span><br><span class="line">      source: &apos;selfchild1&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;childson3&apos;,</span><br><span class="line">      target: &apos;selfchildNode2&apos;,</span><br><span class="line">      source: &apos;selfchild1&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;childson4&apos;,</span><br><span class="line">      target: &apos;selfchild2&apos;,</span><br><span class="line">      source: &apos;selfchildNode1&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;childson5&apos;,</span><br><span class="line">      target: &apos;selfchild2&apos;,</span><br><span class="line">      source: &apos;selfchildNode2&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &apos;childson6&apos;,</span><br><span class="line">      target: &apos;selftwo&apos;,</span><br><span class="line">      source: &apos;selfchild2&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  guides: [&#123;</span><br><span class="line">    shape: &apos;tag&apos;,</span><br><span class="line">    nodeId: &apos;node2&apos;,</span><br><span class="line">    status: &apos;init&apos;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    shape: &apos;tab&apos;,</span><br><span class="line">    nodeId: &apos;node2&apos;,</span><br><span class="line">    status: &apos;stop&apos;,</span><br><span class="line">    </span><br><span class="line">  &#125;]</span><br><span class="line">&#125;;</span><br><span class="line">const layoutdagre = new G6.Plugins[&apos;layout.dagre&apos;]();</span><br><span class="line">      const tooltip = new G6.Plugins[&apos;tool.tooltip&apos;]();</span><br><span class="line">      G6.registerNode(&apos;beginimg&apos;, &#123;</span><br><span class="line">        anchor: [</span><br><span class="line">          [0.5, 1], // 底边中点</span><br><span class="line">          [0.5, 0],</span><br><span class="line">        ],</span><br><span class="line">        draw: (item) =&gt; &#123;</span><br><span class="line">          const group = item.getGraphicGroup();</span><br><span class="line">          const widths = 40;</span><br><span class="line">          const heights = 40;</span><br><span class="line">          return group.addShape(&apos;image&apos;, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">              x: -(widths / 2),</span><br><span class="line">              y: -heights / 2,</span><br><span class="line">              width: widths,</span><br><span class="line">              height: heights,</span><br><span class="line">              img: &apos;https://zos.alipayobjects.com/rmsportal/FDWrsEmamcNvtEf.png&apos;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">      G6.registerNode(&apos;endimg&apos;, &#123;</span><br><span class="line">        anchor: [</span><br><span class="line">          [0.5, 1], // 底边中点</span><br><span class="line">          [0.5, 0],</span><br><span class="line">        ],</span><br><span class="line">        draw: (item) =&gt; &#123;</span><br><span class="line">          const group = item.getGraphicGroup();</span><br><span class="line">          const widths = 40;</span><br><span class="line">          const heights = 40;</span><br><span class="line">          return group.addShape(&apos;image&apos;, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">              x: -(widths / 2),</span><br><span class="line">              y: 0,</span><br><span class="line">              width: widths,</span><br><span class="line">              height: heights,</span><br><span class="line">              img: &apos;https://zos.alipayobjects.com/rmsportal/FDWrsEmamcNvtEf.png&apos;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">      G6.registerNode(&apos;customNode&apos;, &#123;</span><br><span class="line">        anchor: [</span><br><span class="line">          [0.5, 1],     // 底边中点</span><br><span class="line">          [0.5, 0],</span><br><span class="line">        ],</span><br><span class="line">        draw: (item) =&gt; &#123;</span><br><span class="line">          const group = item.getGraphicGroup();</span><br><span class="line">          const model = item.getModel();</span><br><span class="line">          const widths = 150;</span><br><span class="line">          const heights = 50;</span><br><span class="line">          group.addShape(&apos;text&apos;, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">              x: -widths / 4,</span><br><span class="line">              y: -heights / 25,</span><br><span class="line">  textBaseline: &apos;middle&apos;,</span><br><span class="line">              fill: &apos;#333&apos;,</span><br><span class="line">              text: `名称: $&#123;model.name&#125;\n应用：$&#123;model.app&#125;`,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">          return group.addShape(&apos;rect&apos;, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">              x: -widths / 2,</span><br><span class="line">              y: -heights / 2,</span><br><span class="line">              width: widths,</span><br><span class="line">              height: heights,</span><br><span class="line">              stroke: &apos;red&apos;,</span><br><span class="line">              radius: 25,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">      &#125;);</span><br><span class="line">G6.registerGuide(&apos;tag&apos;, &#123;</span><br><span class="line">            draw: (item) =&gt; &#123;</span><br><span class="line">              const group = item.getGraphicGroup();</span><br><span class="line">              const model = item.getModel();</span><br><span class="line">              const &#123; nodeId &#125; = model;</span><br><span class="line">              const graph = item.getGraph();</span><br><span class="line">              const node = graph.find(`$&#123;nodeId&#125;`);</span><br><span class="line">              const nodeBox = node.getBBox();</span><br><span class="line">              const labelShape = group.addShape(&apos;image&apos;, &#123;</span><br><span class="line">                attrs: &#123;</span><br><span class="line">                  x: nodeBox.minX,</span><br><span class="line">                  y: nodeBox.minY + 55,</span><br><span class="line">                  width: 20,</span><br><span class="line">                  height: 20,</span><br><span class="line">                  img: &apos;https://zos.alipayobjects.com/rmsportal/FDWrsEmamcNvtEf.png&apos;,</span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;);</span><br><span class="line">              return labelShape;</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">G6.registerGuide(&apos;tab&apos;, &#123;</span><br><span class="line">            draw: (item) =&gt; &#123;</span><br><span class="line">              const group = item.getGraphicGroup();</span><br><span class="line">              const model = item.getModel();</span><br><span class="line">              const &#123; nodeId &#125; = model;</span><br><span class="line">              const graph = item.getGraph();</span><br><span class="line">              const node = graph.find(`$&#123;nodeId&#125;`);</span><br><span class="line">              const nodeBox = node.getBBox();</span><br><span class="line">              const labelShape = group.addShape(&apos;image&apos;, &#123;</span><br><span class="line">                attrs: &#123;</span><br><span class="line">                  x: nodeBox.minX + 25,</span><br><span class="line">                  y: nodeBox.minY + 55,</span><br><span class="line">                  width: 20,</span><br><span class="line">                  height: 20,</span><br><span class="line">                  img: &apos;https://zos.alipayobjects.com/rmsportal/nAVchPnSaAWncPj.png&apos;,</span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;);</span><br><span class="line">              return labelShape;</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">      G6.registerNode(&apos;selfNode&apos;, &#123;</span><br><span class="line">        anchor: [</span><br><span class="line">          [0.5, 1],     // 底边中点</span><br><span class="line">          [0.5, 0],</span><br><span class="line">        ],</span><br><span class="line">        draw: (item) =&gt; &#123;</span><br><span class="line">          const group = item.getGraphicGroup();</span><br><span class="line">          const heights = 40;</span><br><span class="line">          const widths = 40;</span><br><span class="line">          group.addShape(&apos;text&apos;, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">              x: -widths / 4,</span><br><span class="line">              y: -heights / 2,</span><br><span class="line">  textAlign: &apos;center&apos;,</span><br><span class="line">              textBaseline: &apos;middle&apos;,</span><br><span class="line">              fill: &apos;#333&apos;,</span><br><span class="line">              text: &apos;1&apos;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">          return group.addShape(&apos;circle&apos;, &#123;</span><br><span class="line">            attrs: &#123;</span><br><span class="line">              x: 0,</span><br><span class="line">              y: -heights / 2,</span><br><span class="line">              r: heights / 2,</span><br><span class="line">              width: widths,</span><br><span class="line">              height: heights,</span><br><span class="line">              stroke: &apos;blue&apos;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">        G6.registerEdge(&apos;edge1&apos;, &#123;</span><br><span class="line">          afterDraw: (item) =&gt; &#123;</span><br><span class="line">            const group = item.getGraphicGroup();</span><br><span class="line">            const keyShape = item.getKeyShape();</span><br><span class="line">            var start = keyShape.getPoint(0);</span><br><span class="line">            var center = keyShape.getPoint(0.5);</span><br><span class="line">            var end = keyShape.getPoint(1);</span><br><span class="line">            var labelPadding = 6;</span><br><span class="line">            var labelShape;</span><br><span class="line">            var labelBox;</span><br><span class="line">        // 文本</span><br><span class="line">        labelShape = group.addShape(&apos;text&apos;, &#123;</span><br><span class="line">          attrs: &#123;</span><br><span class="line">            x: center.x,</span><br><span class="line">            y: center.y,</span><br><span class="line">            text: &apos;qqq&apos;,</span><br><span class="line">            fill: &apos;blue&apos;,</span><br><span class="line">            textBaseline: &apos;middle&apos;,</span><br><span class="line">            textAlign: &apos;center&apos;</span><br><span class="line">          &#125;,</span><br><span class="line">          zIndex: 4</span><br><span class="line">        &#125;);</span><br><span class="line">        labelBox = labelShape.getBBox();</span><br><span class="line">        // 文本框</span><br><span class="line">        group.addShape(&apos;rect&apos;, &#123;</span><br><span class="line">          attrs: &#123;</span><br><span class="line">            x: labelBox.minX - labelPadding,</span><br><span class="line">            y: labelBox.minY - labelPadding,</span><br><span class="line">            width: labelBox.maxX - labelBox.minX + 2 * labelPadding,</span><br><span class="line">            height: labelBox.maxY - labelBox.minY + 2 * labelPadding,</span><br><span class="line">            fill: &apos;red&apos;,</span><br><span class="line">            radius: 8</span><br><span class="line">          &#125;,</span><br><span class="line">          zIndex: 3</span><br><span class="line">        &#125;);</span><br><span class="line">        // 起始点圆</span><br><span class="line">        return keyShape;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, &apos;line&apos;);</span><br><span class="line">        // 初始化图</span><br><span class="line">        const graph = new G6.Graph(&#123;</span><br><span class="line">          container: &apos;mountNode&apos;,</span><br><span class="line">          height: 1000,</span><br><span class="line">          fitView: &apos;cc&apos;,</span><br><span class="line">          renderer: &apos;svg&apos;,</span><br><span class="line">          plugins: [layoutdagre, tooltip],</span><br><span class="line">        &#125;);</span><br><span class="line">      let lastZoom = graph.getZoom();</span><br><span class="line">      const zoomSpeed = 0.01;</span><br><span class="line">      graph.on(&apos;mousewheel&apos;, ev =&gt; &#123;</span><br><span class="line">        const zoomValue = zoomSpeed * ev.domEvent.deltaY;</span><br><span class="line">        lastZoom += zoomValue;</span><br><span class="line">        graph.zoom(lastZoom);</span><br><span class="line">      &#125;);</span><br><span class="line">        graph.read(data);</span><br><span class="line">        graph.edge(&#123;</span><br><span class="line">          style() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">              endArrow: true,</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">        graph.guide(&#123;</span><br><span class="line">          tooltip(model) &#123;</span><br><span class="line">            return [</span><br><span class="line">              [&apos;id&apos;, model.id]</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        let lastPoint = 0;</span><br><span class="line">        graph.on(&apos;drag&apos;, (ev) =&gt; &#123;</span><br><span class="line">          graph.css(&#123;</span><br><span class="line">            cursor: &apos;pointer&apos;,</span><br><span class="line">          &#125;);</span><br><span class="line">          if (lastPoint) &#123;</span><br><span class="line">            graph.translate(ev.domX - lastPoint.x, ev.domY - lastPoint.y);</span><br><span class="line">          &#125;</span><br><span class="line">          lastPoint = &#123;</span><br><span class="line">            x: ev.domX,</span><br><span class="line">            y: ev.domY,</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;);</span><br><span class="line">        graph.on(&apos;dragend&apos;, () =&gt; &#123;</span><br><span class="line">          graph.css(&#123;</span><br><span class="line">            cursor: &apos;default&apos;,</span><br><span class="line">          &#125;);</span><br><span class="line">          lastPoint = undefined;</span><br><span class="line">        &#125;);</span><br><span class="line">        graph.on(&apos;node:mouseenter&apos;, (ev) =&gt; &#123;</span><br><span class="line">          const &#123; item &#125; = ev;</span><br><span class="line">          graph.css(&#123;</span><br><span class="line">            cursor: &apos;pointer&apos;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">graph.on(&apos;guide:mouseenter&apos;, (ev) =&gt; &#123;</span><br><span class="line">          const &#123; item &#125; = ev;</span><br><span class="line">  console.log(1111);</span><br><span class="line">          graph.css(&#123;</span><br><span class="line">            cursor: &apos;pointer&apos;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">graph.on(&apos;guide:mouseleave&apos;, (ev) =&gt; &#123;</span><br><span class="line">          const &#123; item &#125; = ev;</span><br><span class="line">          graph.css(&#123;</span><br><span class="line">            cursor: &apos;default&apos;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">graph.on(&apos;guide:click&apos;, (ev) =&gt; &#123;</span><br><span class="line">          const &#123; item &#125; = ev;</span><br><span class="line">  const model = item.getModel();</span><br><span class="line">          if(model.status === &apos;init&apos;) &#123;</span><br><span class="line">console.log(1111);</span><br><span class="line">          &#125;</span><br><span class="line">  if (model.status === &apos;stop&apos;) &#123;</span><br><span class="line">    console.log(2222);</span><br><span class="line">  &#125;</span><br><span class="line">          graph.css(&#123;</span><br><span class="line">            cursor: &apos;pointer&apos;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        graph.on(&apos;node:mouseleave&apos;, () =&gt; &#123;</span><br><span class="line">          graph.css(&#123;</span><br><span class="line">            cursor: &apos;default&apos;,</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">        graph.read(data);</span><br><span class="line">        graph.zoom(0.8);</span><br><span class="line">        graph.on(&apos;node:mouseleave&apos;, () =&gt; &#123;</span><br><span class="line">            graph.css(&#123;</span><br><span class="line">              cursor: &apos;default&apos;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="react js" scheme="http://yoursite.com/tags/react-js/"/>
    
  </entry>
  
  <entry>
    <title>G6</title>
    <link href="http://yoursite.com/2018/11/03/G6/"/>
    <id>http://yoursite.com/2018/11/03/G6/</id>
    <published>2018-11-03T03:27:30.000Z</published>
    <updated>2018-11-03T11:03:18.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="G6"><a href="#G6" class="headerlink" title="G6"></a>G6</h1><blockquote><p>G6 是一个简单、易用、完备的图可视化引擎，它在高定制能力的基础上，提供了一系列设计优雅、便于使用的图可视化解决方案。能帮助开发者搭建属于自己的图 图分析 应用或是 图编辑器 应用</p></blockquote><p>最近一直在被G6可视化工具困扰，在逐渐摸索过程中，慢慢可以进行简单图例的搭建<br>以下，根据react中如何使用G6来写这篇文章</p><p>—-Go</p><p>整体项目使用es6模块化开发</p><p>首先下载G6<br>npm install @antv/g6 –save</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import G6 from &apos;@antv/g6&apos;;</span><br><span class="line"></span><br><span class="line">class G6 extends React.Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state=&#123;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        // dom 已经渲染完成时加载图片, G6渲染依赖根节点</span><br><span class="line">        this.renderG6();</span><br><span class="line">    &#125;</span><br><span class="line">    renderG6 = () =&gt; &#123;</span><br><span class="line">        // 渲染图所需数据</span><br><span class="line">        const data = &#123;</span><br><span class="line">            nodes: [&#123;</span><br><span class="line">                id: &apos;node1&apos;,</span><br><span class="line">                shape: &apos;customNode&apos;,</span><br><span class="line">                x: 100,</span><br><span class="line">                y: 200</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                id: &apos;node2&apos;,</span><br><span class="line">                x: 300,</span><br><span class="line">                y: 200</span><br><span class="line">            &#125;],</span><br><span class="line">            edges: [&#123;</span><br><span class="line">                id: &apos;edge1&apos;,</span><br><span class="line">                target: &apos;node2&apos;,</span><br><span class="line">                source: &apos;node1&apos;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;; </span><br><span class="line">        // 初始化G6图</span><br><span class="line">        const graph = new G6.Graph(&#123;</span><br><span class="line">            container: &apos;mountNode&apos;,</span><br><span class="line">            width: 600,</span><br><span class="line">            height: 300</span><br><span class="line">        &#125;);</span><br><span class="line">        // Graph 是最基础的图类, G6 技术栈中所有关系图都是由该类负责绘制</span><br><span class="line">        // 读数据</span><br><span class="line">        graph.read(data);</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div id=&quot;mountNode&quot;&gt;&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../../../../image/g6Demo.png" alt="g6Demo.png"></p><blockquote><p>自定义节点</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    G6.registerNode(&apos;customNode&apos;, &#123;</span><br><span class="line">        draw(item)&#123;</span><br><span class="line">            // draw 是图项最终绘制的接口， 可以拿到shape为customNode的所有数据</span><br><span class="line">            const group = item.getGraphicGroup(); // 获取 G (图形库) 的图形图组</span><br><span class="line">            const model = item.getModel();</span><br><span class="line">            // 图形数据</span><br><span class="line">            return group.addShape(&apos;rect&apos;, &#123;</span><br><span class="line">                attrs: &#123;</span><br><span class="line">                    x: 0,</span><br><span class="line">                    y: 0,</span><br><span class="line">                    width: 100,</span><br><span class="line">                    height: 100,</span><br><span class="line">                    stroke: &apos;red&apos;</span><br><span class="line">                &#125;</span><br><span class="line">                anchor: array || object || callback</span><br><span class="line">                &lt;!-- anchor: [</span><br><span class="line">                    [0.5, 1],     // 底边中点</span><br><span class="line">                    [0.5, 0],     // 上边中点</span><br><span class="line">                    [1, 0],     // 左边中点</span><br><span class="line">                    [1, 0.5],     // 右边中点</span><br><span class="line">                ], --&gt;</span><br><span class="line">                </span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;, &apos;基于某种图形进行绘制的类型&apos;);</span><br></pre></td></tr></table></figure><p><img src="../../../../image/g6DemoAnchor.png" alt="g6DemoAnchor.png"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;G6&quot;&gt;&lt;a href=&quot;#G6&quot; class=&quot;headerlink&quot; title=&quot;G6&quot;&gt;&lt;/a&gt;G6&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;G6 是一个简单、易用、完备的图可视化引擎，它在高定制能力的基础上，提供了一系列设计优雅、便于使用的图可视化解决方
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>react根据关键字过滤</title>
    <link href="http://yoursite.com/2018/08/02/screen/"/>
    <id>http://yoursite.com/2018/08/02/screen/</id>
    <published>2018-08-02T08:22:19.000Z</published>
    <updated>2018-12-18T06:55:06.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>需要两个相同的数组</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">// 输入框变化时，触发onchange事件，进行数据筛选</span><br><span class="line">changeZons = (e) =&gt; &#123;</span><br><span class="line">        const &#123; zonesList &#125; = this.state;</span><br><span class="line">        const searchData = [];</span><br><span class="line">        // 两种都可以进行筛选，个人更偏向于第一种</span><br><span class="line">        // 第一种</span><br><span class="line">        if (e.target.value === &apos;&apos;) &#123;</span><br><span class="line">            searchData = zonesList;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            searchData = zonesList.filter(item =&gt; (item.name.indexOf(e.target.value) !== -1));</span><br><span class="line">        &#125;</span><br><span class="line">        // 第二种</span><br><span class="line">        zonesList.forEach((item) =&gt; &#123;</span><br><span class="line">            let pass = true;</span><br><span class="line">          if (e.target.value) &#123;</span><br><span class="line">            if (item.jobZone.indexOf(e.target.value) &lt; 0) &#123;</span><br><span class="line">              pass = false;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          if (pass) &#123;</span><br><span class="line">            searchData.push(item);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">          zones: searchData,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    // 下拉菜单变化时，进行数据筛选</span><br><span class="line">    changeZonsAll = (key) =&gt; &#123;</span><br><span class="line">        const &#123; zonesList &#125; = this.state;</span><br><span class="line">        const searchData = [];</span><br><span class="line">        zonesList.forEach((item) =&gt; &#123;</span><br><span class="line">            let pass = true;</span><br><span class="line">          if (key &amp;&amp; key !== &apos;all&apos;) &#123;</span><br><span class="line">            if (item.status.indexOf(key) &lt; 0) &#123;</span><br><span class="line">              pass = false;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          if (pass) &#123;</span><br><span class="line">            searchData.push(item);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">          zones: searchData,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;需要两个相同的数组&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;b
      
    
    </summary>
    
    
      <category term="过滤 关键字 react" scheme="http://yoursite.com/tags/%E8%BF%87%E6%BB%A4-%E5%85%B3%E9%94%AE%E5%AD%97-react/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript异步编程</title>
    <link href="http://yoursite.com/2018/05/24/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/"/>
    <id>http://yoursite.com/2018/05/24/异步编程/</id>
    <published>2018-05-24T08:52:21.000Z</published>
    <updated>2018-05-28T01:51:08.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>js是一门单线程语言，异步编程对js语言来说就显得尤为重要</p></blockquote><p>现在实现异步编程的方式基本上有四种</p><ul><li>回调函数</li><li>Promise函数</li><li>Generator函数</li><li>async/await</li></ul><h5 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">比如我们去请求一个接口，当请求完成后执行下一个请求</span><br><span class="line"></span><br><span class="line">this.data(fetch(&apos;xxx&apos;,(res) =&gt; &#123;</span><br><span class="line">    this.dataInfo(fetch(&apos;yyy&apos;), (res) =&gt; &#123;</span><br><span class="line">        // ...</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;))</span><br><span class="line">如果还有更多的请求操作，就会出现多重嵌套。代码很快就会乱成一团，这种情况就是“回调地狱”（callback hell）。</span><br></pre></td></tr></table></figure><h5 id="Promise函数"><a href="#Promise函数" class="headerlink" title="Promise函数"></a>Promise函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">于是，我们提出了Promise函数，它将回调函数的嵌套，改成了链式调用。写法如下：</span><br><span class="line"></span><br><span class="line">let promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  this.data(resolve)</span><br><span class="line">&#125;)</span><br><span class="line">.then(() =&gt; this.dataInfo())</span><br><span class="line">.catch(() =&gt; &#123; console.log(&quot;Error&quot;) &#125;)</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Promise的写法只是回调函数的改进，使用then方法，只是让异步任务的两段执行更清楚而已。Promise的最大问题是代码冗余，</span><br><span class="line">请求任务多时，一堆的then，也使得原来的语义变得很不清楚，但是它的状态及其稳定</span><br></pre></td></tr></table></figure><h5 id="Generator函数"><a href="#Generator函数" class="headerlink" title="Generator函数"></a>Generator函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">Generator 函数是一个普通函数，但是有两个特征。</span><br><span class="line">1. function关键字与函数名之间有一个星号；</span><br><span class="line">2. 函数体内部使用yield表达式，定义不同的内部状态</span><br><span class="line"></span><br><span class="line">function* helloWorldGenerator() &#123;</span><br><span class="line">  yield &apos;hello&apos;;</span><br><span class="line">  yield &apos;world&apos;;</span><br><span class="line">  return &apos;ending&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const hw = helloWorldGenerator();</span><br><span class="line">上面代码定义了一个 Generator 函数helloWorldGenerator，它内部有两个yield表达式（hello和world），</span><br><span class="line">即该函数有三个状态：hello，world 和 return 语句（结束执行）。Generator 函数的调用方法与普通函数一样，也是在函数名后面加上一对圆括号。</span><br><span class="line">不同的是，调用 Generator 函数后，该函数并不执行，返回的也不是函数运行结果，而是一个指向内部状态的指针对象，</span><br><span class="line">必须调用遍历器对象的next方法，使得指针移向下一个状态。也就是说，每次调用next方法，内部指针就从函数头部或上一次停下来的地方开始执行，</span><br><span class="line">直到遇到下一个yield表达式（或return语句）为止。换言之，Generator 函数是分段执行的，yield表达式是暂停执行的标记，而next方法可以恢复执行。上述代码分步执行如下：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hw.next()</span><br><span class="line">// &#123; value: &apos;hello&apos;, done: false &#125;</span><br><span class="line"></span><br><span class="line">hw.next()</span><br><span class="line">// &#123; value: &apos;world&apos;, done: false &#125;</span><br><span class="line"></span><br><span class="line">hw.next()</span><br><span class="line">// &#123; value: &apos;ending&apos;, done: true &#125;</span><br><span class="line"></span><br><span class="line">hw.next()</span><br><span class="line">// &#123; value: undefined, done: true &#125;</span><br><span class="line"></span><br><span class="line">Generator函数的机制更符合我们理解的异步编程思想。</span><br><span class="line"></span><br><span class="line">用户登录的例子，我们用Generator来写，如下：</span><br><span class="line"></span><br><span class="line">let gen = function* () &#123;</span><br><span class="line">  const f1 = yield this.data()</span><br><span class="line">  const f2 = yield this.dataInfo()</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">虽然Generator将异步操作表示得很简洁，但是流程管理却不方便（即何时执行第一阶段、何时执行第二阶段)</span><br><span class="line">然后出现了 async/await</span><br></pre></td></tr></table></figure><h5 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">async function asyncFunc(params) &#123;</span><br><span class="line">  const result1 = await this.login()</span><br><span class="line">  const result2 = await this.getInfo()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>异步函数存在以下四种使用形式：</p><ol><li>函数声明： async function foo() {}</li><li>函数表达式： const foo = async function() {}</li><li>对象的方式： let obj = { async foo() {} }</li><li>箭头函数： const foo = async () =&gt; {}</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">对单个异步处理</span><br><span class="line">data = async (xxx) =&gt; &#123;</span><br><span class="line">    const res = await fetch(`xxx`);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">对错误的处理：</span><br><span class="line">asyncFunc =  async () =&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    await otherAsyncFunc();</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    console.error(err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">按顺序处理多个异步结果：</span><br><span class="line">asyncFunc = async () =&gt; &#123;</span><br><span class="line">  const result1 = await otherAsyncFunc1();</span><br><span class="line">  console.log(result1);</span><br><span class="line">  const result2 = await otherAsyncFunc2();</span><br><span class="line">  console.log(result2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://es6.ruanyifeng.com/#docs/async" target="_blank" rel="noopener">阮一峰es6</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;js是一门单线程语言，异步编程对js语言来说就显得尤为重要&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;现在实现异步编程的方式基本上有四种&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;回调函数&lt;/li&gt;
&lt;li&gt;Promise函数&lt;/li&gt;
&lt;li&gt;Generator
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>react高阶组件</title>
    <link href="http://yoursite.com/2018/05/23/react%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/"/>
    <id>http://yoursite.com/2018/05/23/react高阶组件/</id>
    <published>2018-05-23T10:03:35.000Z</published>
    <updated>2018-12-18T07:20:49.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><p>对传入的函数进行增强，并返回一个添加了额外行为的新函数</p><h2 id="高阶组件"><a href="#高阶组件" class="headerlink" title="高阶组件"></a>高阶组件</h2><p>高阶函数的定义：接收函数作为输入，或者输出另一个函数的一类函数，被称作高阶函数。对于高阶组件，它描述的便是接受React组件作为输入，输出一个新的React组件的组件。</p><p>更通俗地描述为，高阶组件通过包裹被传入的React组件，经过一系列处理，最终返回一个相对增强的React组件，供其他组件调用。</p><h3 id="实现一个高阶组件"><a href="#实现一个高阶组件" class="headerlink" title="实现一个高阶组件"></a>实现一个高阶组件</h3><p>来实现一个最简单的高阶组件（函数），它接受一个React组件，包裹后然后返回。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">export default function withHeader(WrappedComponent) &#123;</span><br><span class="line">  return class HOC extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      return &lt;div&gt;</span><br><span class="line">        &lt;div className=&quot;demo-header&quot;&gt;</span><br><span class="line">          我是标题</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在其他组件中使用这个高阶组件,两种方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. const EnhanceDemo = withHeader(Demo);</span><br><span class="line">export default class Demo extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        我是一个普通组件</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在这里使用了ES7里的decorator，来提升写法上的优雅，但是实际上它只是一个语法糖</span><br><span class="line">2. @withHeader</span><br><span class="line">export default class Demo extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        我是一个普通组件</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果这个高阶组件被使用了多次，那么在调试的时候，将会看到一大堆HOC，所以这个时候需要做一点小优化，就是在高阶组件包裹后，应当保留其原有名称。<br>这样显示的就是HOC(demo)了<br><img src="../../../../image/hoc.png" alt="hoc.png"></p><p>改写一下上述的高阶组件代码，增加了getDisplayName函数以及静态属性displayName。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function getDisplayName(component) &#123;</span><br><span class="line">  return component.displayName || component.name || &apos;Component&apos;;</span><br><span class="line">&#125;</span><br><span class="line">export default function (WrappedComponent) &#123;</span><br><span class="line">  return class HOC extends Component &#123;</span><br><span class="line">    static displayName = `HOC($&#123;getDisplayName(WrappedComponent)&#125;)`</span><br><span class="line">    render() &#123;</span><br><span class="line">      return &lt;div&gt;</span><br><span class="line">        &lt;div className=&quot;demo-header&quot;&gt;</span><br><span class="line">          我是标题</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">displayName是一个用于命名组件的字符串</span><br><span class="line">高阶组件的主要功能是封装并抽离组件的通用逻辑，让此部分逻辑在组件间更好地被复用。</span><br></pre></td></tr></table></figure></p><p>如果需要传入的参数来设置title的值可以将这个组件进行修改就可以的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1. export default function (title) &#123;</span><br><span class="line">  return function (WrappedComponent) &#123;</span><br><span class="line">    return class HOC extends Component &#123;</span><br><span class="line">      render() &#123;</span><br><span class="line">        return &lt;div&gt;</span><br><span class="line">          &lt;div className=&quot;demo-header&quot;&gt;</span><br><span class="line">            &#123;title</span><br><span class="line">              ? title</span><br><span class="line">              : &apos;我是标题&apos;&#125;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">2.export default(title) =&gt; (WrappedComponent) =&gt; class HOC extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">      &lt;div className=&quot;demo-header&quot;&gt;</span><br><span class="line">        &#123;title</span><br><span class="line">          ? title</span><br><span class="line">          : &apos;我是标题&apos;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="属性代理"><a href="#属性代理" class="headerlink" title="属性代理"></a>属性代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">export default function withHeader(WrappedComponent) &#123;</span><br><span class="line">  return class HOC extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      const newProps = &#123;</span><br><span class="line">        test:&apos;hoc&apos;</span><br><span class="line">      &#125;</span><br><span class="line">      // 透传props，并且传递新的newProps</span><br><span class="line">      return &lt;div&gt;</span><br><span class="line">        &lt;WrappedComponent &#123;...this.props&#125; &#123;...newProps&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="反向继承"><a href="#反向继承" class="headerlink" title="反向继承"></a>反向继承</h3><p>这种方式返回的React组件继承了被传入的组件，所以它能够访问到的区域、权限更多，相比属性代理方式，它更像打入组织内部，对其进行修改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export default function (WrappedComponent) &#123;</span><br><span class="line">  return class Inheritance extends WrappedComponent &#123;</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">      // 可以方便地得到state，做一些更深入的修改。</span><br><span class="line">      console.log(this.state);</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">      return super.render();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="组合多个高阶组件"><a href="#组合多个高阶组件" class="headerlink" title="组合多个高阶组件"></a>组合多个高阶组件</h3><p>高阶组件为React组件增强了一个功能，如果需要同时增加多个功能需要怎么做？这种场景非常常见，例如我既需要增加一个组件标题，又需要在此组件未加载完成时显示Loading。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@withHeader</span><br><span class="line">@withLoading</span><br><span class="line">class Demo extends Component&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>使用compose可以简化上述过程，也能体现函数式编程的思想<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const enhance = compose(withHeader,withLoading);</span><br><span class="line">@enhance</span><br><span class="line">class Demo extends Component&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>组合 Compose </p></blockquote><p>compose可以帮助我们组合任意个（包括0个）高阶函数，例如compose(a,b,c)返回一个新的函数d，函数d依然接受一个函数作为入参，只不过在内部会依次调用c,b,a，从表现层对使用者保持透明。<br>基于这个特性，我们便可以非常便捷地为某个组件增强或减弱其特征，只需要去变更compose函数里的参数个数便可。</p><!-- 摘自[知乎](https://zhuanlan.zhihu.com/p/28138664) -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;高阶函数&quot;&gt;&lt;a href=&quot;#高阶函数&quot; class=&quot;headerlink&quot; title=&quot;高阶函数&quot;&gt;&lt;/a&gt;高阶函数&lt;/h2&gt;&lt;p&gt;对传入的函数进行增强，并返回一个添加了额外行为的新函数&lt;/p&gt;
&lt;h2 id=&quot;高阶组件&quot;&gt;&lt;a href=&quot;#高阶组件&quot; 
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>dva</title>
    <link href="http://yoursite.com/2018/05/23/dva/"/>
    <id>http://yoursite.com/2018/05/23/dva/</id>
    <published>2018-05-23T01:46:40.000Z</published>
    <updated>2018-12-08T08:23:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>dva 我认为可以理解为对redux的一种封装</p><p>官网: dva 首先是一个基于 redux 和 redux-saga 的数据流方案，然后为了简化开发体验，dva 还额外内置了 react-router 和 fetch，所以也可以理解为一个轻量级的应用框架</p><blockquote><p>redux 的工作流程图， 更容易去理解dva中的model</p></blockquote><p><img src="../../../../image/redux.jpg" alt="redux.jpg"></p><h2 id="安装dva-cli"><a href="#安装dva-cli" class="headerlink" title="安装dva-cli"></a>安装dva-cli</h2><p>dva 有自己的脚手架，在开发项目的时候，我们需要先安装一个脚手架</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ npm install -g dva-cli</span><br></pre></td></tr></table></figure><p>安装完成后，可以通过 dva -v 查看版本</p><h2 id="创建新应用"><a href="#创建新应用" class="headerlink" title="创建新应用"></a>创建新应用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. dva new myApp </span><br><span class="line">2. cd myApp</span><br><span class="line">3. npm install</span><br><span class="line">4. npm start</span><br></pre></td></tr></table></figure><p>（DVA）定义组件一般有三种方式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// 1. 传统写法</span><br><span class="line">const App = React.createClass(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">// 2. es6 的写法</span><br><span class="line">class App extends React.Component(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">// 3. stateless 的写法（函数的写法，但是不会调用react 的生命周期）</span><br><span class="line">const App = (props) =&gt; (&#123;&#125;);</span><br></pre></td></tr></table></figure></p><p>其中第1种是不推荐的写法，第2种是在你的组件涉及 react 的生命周期方法的时候采用这种写法(可以使用this)，而第3种则是我们一般推荐的写法。</p><h2 id="初始化dva"><a href="#初始化dva" class="headerlink" title="初始化dva"></a>初始化dva</h2><p><img src="../../../../image/dvainstall.png" alt="dvainstall.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">app = dva(opts)</span><br><span class="line"></span><br><span class="line">创建应用，返回 dva 实例</span><br><span class="line"></span><br><span class="line">opts 包含：</span><br><span class="line"></span><br><span class="line">history：指定给路由用的 history，默认是 hashHistory</span><br><span class="line">initialState：指定初始数据，优先级高于 model 中的 state，默认是 &#123;&#125;</span><br><span class="line">如果要配置 history 为 browserHistory，可以这样：</span><br><span class="line"></span><br><span class="line">import createHistory from &apos;history/createBrowserHistory&apos;;</span><br><span class="line">const app = dva(&#123;</span><br><span class="line">  history: createHistory(),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const app = dva(&#123;</span><br><span class="line">  history,</span><br><span class="line">  initialState,</span><br><span class="line">  onError,</span><br><span class="line">  onAction,</span><br><span class="line">  onStateChange,</span><br><span class="line">  onReducer,</span><br><span class="line">  onEffect,</span><br><span class="line">  onHmr,</span><br><span class="line">  extraReducers,</span><br><span class="line">  extraEnhancers,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="定义-Model"><a href="#定义-Model" class="headerlink" title="定义 Model"></a>定义 Model</h2><p>model 是 dva 中最重要的概念</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">app.model(&#123;</span><br><span class="line">  namespace: &apos;todo&apos;, //  model 的命名空间，同时也是他在全局 state 上的属性，只能用字符串，不支持通过 . 的方式创建多层命名空间</span><br><span class="line"></span><br><span class="line">  state: [], // 初始值，优先级低于传给 dva() 的 opts.initialState。</span><br><span class="line">   // const app = dva(&#123;</span><br><span class="line">   //     initialState: &#123; count: 1 &#125;,</span><br><span class="line">   //  &#125;);</span><br><span class="line">   // app.model(&#123;</span><br><span class="line">   //     namespace: &apos;count&apos;,</span><br><span class="line">   //     state: 0,</span><br><span class="line">   // &#125;); </span><br><span class="line">   // state.count 为 1</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">  reducers: &#123; // 以 key/value 格式定义 reducer。用于处理同步操作，唯一可以修改 state 的地方。由 action 触发</span><br><span class="line">    add(state, &#123; payload: todo &#125;) &#123;</span><br><span class="line">      // 保存数据到 state</span><br><span class="line">      return [...state, todo];</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  effects: &#123;</span><br><span class="line">    *save(&#123; payload: todo &#125;, &#123; put, call &#125;) &#123;</span><br><span class="line">      // 调用 saveTodoToServer，成功后触发 `add` action 保存到 state</span><br><span class="line">      yield call(saveTodoToServer, todo);</span><br><span class="line">      yield put(&#123; type: &apos;add&apos;, payload: todo &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  // 以 key/value 格式定义 effect。用于处理异步操作和业务逻辑，不直接修改 state。由 action 触发，可以触发 action，可以和服务器交互，可以获取全局 state 的数据等等。</span><br><span class="line"></span><br><span class="line">// 格式为 *(action, effects) =&gt; void 或 [*(action, effects) =&gt; void, &#123; type &#125;]</span><br><span class="line"></span><br><span class="line">  subscriptions: &#123;</span><br><span class="line">    setup(&#123; history, dispatch &#125;) &#123;</span><br><span class="line">      // 监听 history 变化，当进入 `/` 时触发 `load` action</span><br><span class="line">      return history.listen((&#123; pathname &#125;) =&gt; &#123;</span><br><span class="line">        if (pathname === &apos;/&apos;) &#123;</span><br><span class="line">          dispatch(&#123; type: &apos;load&apos; &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">// 以 key/value 格式定义 subscription。subscription 是订阅，用于订阅一个数据源，然后根据需要 dispatch 相应的 action。在 app.start() 时被执行，数据源可以是当前的时间、服务器的 websocket 连接、keyboard 输入、geolocation 变化、history 路由变化等等。</span><br><span class="line"></span><br><span class="line">// 格式为 (&#123; dispatch, history &#125;, done) =&gt; unlistenFunction。 </span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>当我们使用put发送一条action的时候 与之对于的reducers就会接收到这个消息 然后在里面返回state等数据</p><p>在reducers中尽量只做state的数据返回 不要在这里写相关的逻辑</p><p>上面出现了 put call 这两个单词</p><p>其实 不止这几个 </p><p>一般常用的有put call select take </p><ul><li>put  用来发起一条action</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">用于触发action</span><br><span class="line">yield put(&#123; type: &apos;add&apos;, payload: todo &#125;);</span><br></pre></td></tr></table></figure><ul><li>call 以异步的方式调用函数，用于异步逻辑，支持promise</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">yield call(saveTodoToServer, todo);</span><br><span class="line"></span><br><span class="line">saveTodoToServer这里可以是一个请求</span><br><span class="line">export function saveTodoToServer(payload) &#123;</span><br><span class="line">  return axios.get(`xxx`);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>select 从state中获取相关的数据</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">const todo = yield selecct(stete =&gt; state.count)</span><br></pre></td></tr></table></figure><ul><li>take 获取发送的数据</li></ul><blockquote><p>effects   接收数据</p></blockquote><p>dispatch 是根据你effects里面设置的type内容 然后转发到指定的model的 所以你这边 要设置正确以后 在model那边才能接收到你发送的这条action</p><p>dispatch 在使用connect包裹的组件中可以通过 const { dispatch } =  this.props; 拿到</p><p>当我们在页面中进行操作时，可以通过dispatch 分发这条action到model中</p><p>具体的代码，比如</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">save = (todo) =&gt;&#123;</span><br><span class="line">    if (todo !== &apos;&apos;) &#123;</span><br><span class="line">        dispath(&#123;type:&apos;count/save&apos;, plyload: todo&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个count就是在model中设置的namespace,save就是effects中你自己起的type<br>plyload是传过去的数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">effects: &#123;</span><br><span class="line">    *save(&#123; payload: todo &#125;, &#123; put, call &#125;) &#123;</span><br><span class="line">      // 调用 saveTodoToServer，成功后触发 `add` action 保存到 state</span><br><span class="line">      yield call(saveTodoToServer, todo);</span><br><span class="line">      yield put(&#123; type: &apos;add&apos;, payload: todo &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><blockquote><p>reducers 处理数据</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reducers: &#123; </span><br><span class="line">    add(state, &#123; payload: todo &#125;) &#123;</span><br><span class="line">      // 保存数据到 state</span><br><span class="line">      return [...state, todo];</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><blockquote><p>subscriptions 监听数据</p></blockquote><h1 id="react组件生命周期"><a href="#react组件生命周期" class="headerlink" title="react组件生命周期"></a>react组件生命周期</h1><p>组件的生命周期可分成三个状态：</p><ul><li>Mounting：已插入真实 DOM</li><li>Updating：正在被重新渲染</li><li>Unmounting：已移出真实 DOM<br>生命周期的方法有：</li><li>componentWillMount 在渲染前调用,在客户端也在服务端。</li><li>componentDidMount : 在第一次渲染后调用，只在客户端。之后组件已经生成了对应的DOM结构，可以通过this.getDOMNode()来进行访问。 如果你想和其他JavaScript框架一起使用，可以在这个方法中调用setTimeout, setInterval或者发送AJAX请求等操作(防止异部操作阻塞UI)。</li><li>componentWillReceiveProps 在组件接收到一个新的prop时被调用。这个方法在初始化render时不会被调用。</li><li>shouldComponentUpdate 返回一个布尔值。在组件接收到新的props或者state时被调用。在初始化时或者使用forceUpdate时不被调用。可以在你确认不需要更新组件时使用。</li><li>componentWillUpdate在组件接收到新的props或者state但还没有render时被调用。在初始化时不会被调用。</li><li>componentDidUpdate 在组件完成更新后立即调用。在初始化时不会被调用。</li><li>componentWillUnmount在组件从 DOM 中移除的时候立刻被调用。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;dva 我认为可以理解为对redux的一种封装&lt;/p&gt;
&lt;p&gt;官网: dva 首先是一个基于 redux 和 redux-saga 的数据流方案，然后为了简化开发体验，dva 还额外内置了 react-router 和 fetch，所以也可以理解为一个轻量级的应用框架&lt;/p
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Record</title>
    <link href="http://yoursite.com/2018/05/22/Record/"/>
    <id>http://yoursite.com/2018/05/22/Record/</id>
    <published>2018-05-22T03:33:54.000Z</published>
    <updated>2018-05-28T01:51:03.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">当输入框停止的时候进行数据请求</span><br><span class="line">debounce = (cb = () =&gt; &#123; &#125;, time = 500) =&gt; &#123;</span><br><span class="line">    if (this.timer) &#123;</span><br><span class="line">      clearTimeout(this.timer);</span><br><span class="line">    &#125;</span><br><span class="line">    this.timer = setTimeout(() =&gt; &#123;</span><br><span class="line">      cb();</span><br><span class="line">    &#125;, time);</span><br><span class="line">  &#125;;</span><br><span class="line">  handleInputChange = (event) =&gt; &#123;</span><br><span class="line">    const keyword = event.target.value;</span><br><span class="line">    this.debounce(() =&gt; this.getData(keyword, 1));</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><blockquote><p>在react-router4.0版本中，取地址栏中的参数时使用以下方式</p></blockquote><ol><li>import qs from ‘querystring’;</li><li>const { id } = qs.parse(this.props.location.search.slice(1));（视情况而定） </li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>this is my file</title>
    <link href="http://yoursite.com/2018/05/21/my%20file/"/>
    <id>http://yoursite.com/2018/05/21/my file/</id>
    <published>2018-05-21T11:20:25.000Z</published>
    <updated>2018-05-28T01:50:56.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="你好-世界"><a href="#你好-世界" class="headerlink" title="你好 世界"></a>你好 世界</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fetch(`xxx`, &#123;</span><br><span class="line">                    method: &apos;POST&apos;,</span><br><span class="line">                    credentials: &apos;same-origin&apos;,</span><br><span class="line">                    headers: &#123;</span><br><span class="line">                        &apos;Content-Type&apos;: &apos;application/json&apos;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    body: JSON.stringify(values),</span><br><span class="line">                    // values 是个对象</span><br><span class="line">                &#125;).then(res =&gt; res.blob().then((blob) =&gt; &#123;</span><br><span class="line">                    const a = document.createElement(&apos;a&apos;);</span><br><span class="line">                    const url = window.URL.createObjectURL(blob);</span><br><span class="line">                    const filename = `$&#123;values.applicationName&#125;.zip`;</span><br><span class="line">                    a.href = url;</span><br><span class="line">                    a.download = filename;</span><br><span class="line">                    a.click();</span><br><span class="line">                    window.URL.revokeObjectURL(url);</span><br><span class="line">                &#125;));</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;你好-世界&quot;&gt;&lt;a href=&quot;#你好-世界&quot; class=&quot;headerlink&quot; title=&quot;你好 世界&quot;&gt;&lt;/a&gt;你好 世界&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>欢迎来到我的blog</title>
    <link href="http://yoursite.com/2018/05/21/hello-world/"/>
    <id>http://yoursite.com/2018/05/21/hello-world/</id>
    <published>2018-05-21T10:33:00.000Z</published>
    <updated>2018-05-28T01:50:53.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="此网站用来做一些记录"><a href="#此网站用来做一些记录" class="headerlink" title="此网站用来做一些记录"></a>此网站用来做一些记录</h3><hr><h4 id="or-so"><a href="#or-so" class="headerlink" title="or_so"></a>or_so</h4><p>当我们出了大学的门，挤进了人才市场，从人才市场挤到某张办公桌前，一旦习惯了朝九晚五的工作，就基本停止了思考，放弃了对生命形态的选择，半生只活在一天里。我们懦弱又慵懒地把自己交给所谓安全感，在自认为安全的生活方式中消磨青春，赘肉横生。</p><p>或许生活最好的方式正如海伦.凯勒所说将每一天当做自己的末日，用这样的态度去生活，生命的价值方得以彰显，我们本应纯良知恩、满怀激情地过好每一天，然而一日循着一日，一月接着一月，一年更似一年，这些品质往往被时间冲淡。</p><hr><p><img src="../../../../image/or.jpg" alt="or.jpg"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;此网站用来做一些记录&quot;&gt;&lt;a href=&quot;#此网站用来做一些记录&quot; class=&quot;headerlink&quot; title=&quot;此网站用来做一些记录&quot;&gt;&lt;/a&gt;此网站用来做一些记录&lt;/h3&gt;&lt;hr&gt;
&lt;h4 id=&quot;or-so&quot;&gt;&lt;a href=&quot;#or-so&quot; clas
      
    
    </summary>
    
    
  </entry>
  
</feed>
